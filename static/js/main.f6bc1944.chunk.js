(this["webpackJsonpcodechef-cards"]=this["webpackJsonpcodechef-cards"]||[]).push([[0],{14:function(e,t,c){},16:function(e,t,c){},17:function(e,t,c){},18:function(e,t,c){},19:function(e,t,c){"use strict";c.r(t);var s=c(1),n=c.n(s),a=c(8),r=c.n(a),i=(c(14),c(9)),l=c(2),j=c(4),o=c(3),d=c(0);function b(){return Object(d.jsxs)("header",{children:[Object(d.jsx)("div",{children:"Codechef Cards"}),Object(d.jsx)(o.e,{className:"githubIcon",onClick:function(){window.location.href="https://github.com/yashchaudhari008/Codechef_Cards"},style:{cursor:"pointer"}})]})}function u(){return Object(d.jsx)("footer",{children:Object(d.jsx)("p",{children:"\xa9 Copyright 2021-22. Made with \u2764 by Yash Chaudhari."})})}c(16);function h(e){var t=e.users,c=e.setUsers,n=e.fetchData,a=e.setShowModal,r=Object(s.useState)(!1),i=Object(j.a)(r,2),b=i[0],u=i[1],h=Object(s.useRef)(null);return Object(d.jsxs)("div",{className:"menuBox",children:[Object(d.jsx)("button",{className:"menuBtn",onClick:function(){return u(!b)},children:b?Object(d.jsx)(o.d,{}):Object(d.jsx)(o.c,{})}),b&&Object(d.jsxs)("form",{className:"menuForm",onSubmit:function(e){e.preventDefault();var s=h.current.value.toLowerCase();if(""===s)a((function(e){return Object(l.a)(Object(l.a)({},e),{},{visible:!0,type:"alert",msg:"No Username Entered!"})}));else{var r=new Set(t);r.has(s)?a((function(e){return Object(l.a)(Object(l.a)({},e),{},{visible:!0,type:"warning",msg:"User already exists!"})})):(r.add(s),c(Array.from(r)),localStorage.setItem("users",JSON.stringify(Array.from(r))),n(s)),h.current.value=""}},children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{htmlFor:"username",children:" Username: "}),Object(d.jsx)("input",{type:"text",id:"username",name:"username",ref:h})]}),Object(d.jsx)("div",{children:Object(d.jsxs)("button",{className:"menuBtn",type:"submit",children:[Object(d.jsx)(o.g,{}),Object(d.jsx)("p",{children:"Add User"})]})})]})]})}c(17);function O(e){var t=e.user_data,c=e.setShowModal,s=e.removeUser,n=t.user_details,a=t.stars,r=t.rating,i=t.highest_rating,j=t.global_rank,b=t.country_rank,u=t.partially_solved,h=t.fully_solved,O="stars".concat(a[0]);return Object(d.jsxs)("div",{className:"cardBox ".concat(O),children:[Object(d.jsxs)("div",{className:"cardDetails",children:[Object(d.jsx)("h1",{children:n.name}),Object(d.jsxs)("p",{children:["(",n.username,")"]}),Object(d.jsx)("div",{className:"cardRating",children:Object(d.jsxs)("p",{children:[a," | ",r]})}),Object(d.jsxs)("div",{className:"cardHighestRating",children:[Object(d.jsx)("h4",{children:"Highest Rating:"}),Object(d.jsx)("p",{children:i})]}),Object(d.jsx)("div",{children:Object(d.jsxs)("button",{className:"cardBtn",onClick:function(){c((function(e){return Object(l.a)(Object(l.a)({},e),{},{visible:!0,type:"confirm",msg:"Are you sure to delete '".concat(n.username,"'?"),acceptFunc:function(){return s(n.username)}})}))},children:[Object(d.jsx)(o.h,{}),Object(d.jsx)("p",{children:"Delete"})]})})]}),Object(d.jsxs)("div",{className:"moreDetails",children:[Object(d.jsxs)("div",{className:"detailsItemWrapper",children:[Object(d.jsx)("h1",{className:"wrapperHeading",children:"Ranking"}),Object(d.jsxs)("div",{className:"detailsItem",children:[Object(d.jsx)("p",{children:"Global Rank:"}),Object(d.jsx)("p",{children:j})]}),Object(d.jsxs)("div",{className:"detailsItem",children:[Object(d.jsx)("p",{children:"Country Rank:"}),Object(d.jsx)("p",{children:b})]})]}),Object(d.jsxs)("div",{className:"detailsItemWrapper",children:[Object(d.jsx)("h1",{className:"wrapperHeading",children:"Problem Solved"}),Object(d.jsxs)("div",{className:"detailsItem",children:[Object(d.jsx)("p",{children:"Fully:"}),Object(d.jsx)("p",{children:h.count})]}),Object(d.jsxs)("div",{className:"detailsItem",children:[Object(d.jsx)("p",{children:"Partially:"}),Object(d.jsx)("p",{children:u.count})]})]})]})]})}c(18);function m(e){var t=e.modalData,c=e.setShowModal,s=t.type,n=t.msg,a=t.acceptFunc,r=function(){c((function(e){return Object(l.a)(Object(l.a)({},e),{},{visible:!1})}))};if("alert"===s)return Object(d.jsxs)("div",{className:"Modal ".concat(s,"Modal"),children:[Object(d.jsx)("h1",{children:"Alert!"}),Object(d.jsx)("p",{children:n}),Object(d.jsx)("div",{className:"modalBtnHolder",children:Object(d.jsxs)("button",{className:"modalBtn",onClick:r,children:[Object(d.jsx)(o.f,{}),"Close"]})})]});if("warning"===s)return Object(d.jsxs)("div",{className:"Modal ".concat(s,"Modal"),children:[Object(d.jsx)("h1",{children:"Warning"}),Object(d.jsx)("p",{children:n}),Object(d.jsx)("div",{className:"modalBtnHolder",children:Object(d.jsxs)("button",{className:"modalBtn",onClick:r,children:[Object(d.jsx)(o.f,{}),"Close"]})})]});if("confirm"===s)return Object(d.jsxs)("div",{className:"Modal ".concat(s,"Modal"),children:[Object(d.jsx)("h1",{children:"Confirm"}),Object(d.jsx)("p",{children:n}),Object(d.jsxs)("div",{className:"modalBtnHolder",children:[Object(d.jsxs)("button",{className:"modalBtn",onClick:function(){a(),r()},children:[Object(d.jsx)(o.b,{}),"Yes"]}),Object(d.jsxs)("button",{className:"modalBtn",onClick:r,children:[Object(d.jsx)(o.a,{}),"No"]})]})]});throw new Error("No modal defined for '".concat(s,"'"))}function x(){var e=Object(s.useState)([]),t=Object(j.a)(e,2),c=t[0],n=t[1],a=Object(s.useState)([]),r=Object(j.a)(a,2),o=r[0],x=r[1],f=Object(s.useState)([]),p=Object(j.a)(f,2),v=p[0],N=p[1],g=Object(s.useState)({visible:!1,type:"",msg:"",acceptFunc:null}),y=Object(j.a)(g,2),k=y[0],C=y[1],S=Object(s.useCallback)((function(e){x((function(t){return t.filter((function(t){return t.user_details.username!==e}))})),n((function(t){var c=t.filter((function(t){return t!==e}));return localStorage.setItem("usernames",JSON.stringify(c)),c}))}),[]),w=Object(s.useCallback)((function(e){fetch("https://competitive-coding-api.herokuapp.com/api/codechef/"+e).then((function(e){return e.json()})).then((function(t){"Success"===t.status?N(Object(l.a)(Object(l.a)({},t),{},{user_details:Object(l.a)(Object(l.a)({},t.user_details),{},{username:e})})):(console.log("Invalid Username"),S(e))})).catch((function(e){return console.log("Error:",e)}))}),[S]);return Object(s.useEffect)((function(){var e=JSON.parse(localStorage.getItem("usernames"));e?(n(e),e.forEach((function(e){w(e)}))):n([])}),[w]),Object(s.useEffect)((function(){0!==v.length&&(0===v.rating&&(v.stars="1\u2605",v.global_rank="Not Ranked!",v.country_rank="Not Ranked!"),x((function(){return[].concat(Object(i.a)(o),[v])})),N([]))}),[v,o]),Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)(b,{}),Object(d.jsxs)("div",{className:"Content",children:[Object(d.jsx)(h,{setUsers:n,users:c,fetchData:w,setShowModal:C}),Object(d.jsx)("div",{className:"CardList",children:o.sort((function(e,t){return t.rating-e.rating})).map((function(e){return Object(d.jsx)(O,{user_data:e,setShowModal:C,removeUser:S},e.user_details.username)}))}),k.visible&&Object(d.jsx)("div",{className:"backDrop",children:Object(d.jsx)(m,{modalData:k,setShowModal:C})})]}),Object(d.jsx)(u,{})]})}r.a.render(Object(d.jsx)(n.a.StrictMode,{children:Object(d.jsx)(x,{})}),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.f6bc1944.chunk.js.map